<!doctype html>
<html lang="es">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" ></script>    
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js"></script>

<title>MVVM</title>
</head>
<body>
	<div class="container">

		<div class="row">
			<div class="col-md-12">
				<h1>MVVM - Model View ViewModel</h1>
			</div>
		</div>	

		<div class="row">
			<div class="col-md-12">
				<span>Agregar un nuevo valor al listado:</span>
				<br />					
				<input type="text" data-bind="value:hola"/>
				<br />
				Ãšltimo valor ingresado: <h6 data-bind="text:hola" ></h6>		
			</div>
		</div>	

		<div class="row">
			<div class="col-md-12">
				<span>Listado de Saludos</span>
				<ul>
					<!-- ko foreach: listado -->
					<li>
						<span data-bind="text: $data" ></span>						
					</li>
					<!-- /ko -->
				</ul>				
			</div>
		</div>
	
	</div>
</body>


<script>

function viewModel() {
    
    var viewModel = this;
    
    viewModel.hola = ko.observable();
	viewModel.listado = ko.observableArray(["Hola","Hello","Salut"]);

	
	viewModel.hola.subscribe(function(e){	
		if(e)
		{
			viewModel.listado.push(e);
		}		
	});    
}

ko.applyBindings(new viewModel());
</script>
</html>
